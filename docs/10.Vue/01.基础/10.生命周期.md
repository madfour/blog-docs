---
title: 生命周期函数
date: 2021-02-05 15:06:59
permalink: /vue/f843b8
categories:
  - Vue
tags:
  - Vue
---

# 实例生命周期钩子

简单理解，生命周期函数就是 在某一时刻会自动执行的函数。

[实例生命周期钩子 API](https://cn.vuejs.org/v2/guide/instance.html#实例生命周期钩子)

<!-- more -->

## 生命周期

`Vue` 实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、销毁等一系列过程，称之为 `Vue` 的生命周期。

## 过程
### `beforeCreate`
实例创建前。此时组件的选项对象还未创建，`$el` 和 `data` 并未初始化，因此无法访问`methods`， `data`， `computed`等上的方法和数据。

### `created`
实例创建完成之后。完成数据观测，属性和方法的运算，初始化事件，此时因为挂载阶段还没开始，`$el` 属性目前不可见。

### `beforeMount`
挂载开始之前。相关的 `render` 函数首次被调用（虚拟DOM）。

实例已完成以下的配置： 编译模板，把 `data` 里面的数据和模板生成 `html`，完成了`el`和`data` 初始化，注意此时还没有挂在`html`到页面上。

### `mounted`
挂载完成。在`el` 被新创建的 `vm.$el` 替换，并挂载到实例上去之后调用。

实例已完成以下的配置：用上面编译好的`html`内容替换 `el` 属性指向的 `DOM` 对象。完成模板中的 `html` 渲染到 `html`页面中。此过程中进行`ajax`交互。



### `beforeUpdate`
在数据更新之前调用。发生在虚拟`DOM`重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。

### `updated`
在**由于数据更改导致的虚拟DOM重新渲染和打补丁**之后调用。调用时，组件 `DOM` 已经更新，所以可以执行依赖于 `DOM` 的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用。

### `beforeDestroy` 
实例销毁之前调用。在这一步，实例仍然完全可用.


### `destroyed`
`Vue` 实例销毁后调用。调用后，`Vue` 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 该钩子在服务器端渲染期间不被调用。



## 生命周期函数
:::tip
简单记就是：创建`create`、渲染`mounte`、更新`update`、销毁`destroye`
:::

- `beforeCreate()` ：实例创建之前前
- `created()` : 创建实例成功(一般在此实现数据的异步请求)
- `beforeMount()` : 在模板渲染完成之前（加载组件第一次渲染）
- `mounted()` : 在模板渲染完成（加载组件第一次渲染）
- `beforeUpdate()` ：重新渲染之前（数据更新等操作控制DOM重新渲染）
- `updated()`：当data中的数据发生变化，页面重新渲染完后，会自动执行的函数
- `beforeDestroy()` :当Vue应用失效时，会自动执行的函数（销毁前）
- `destroyed()` : 当Vue应用失效时，且DOM完全销毁之后，会自动执行（销毁后）


## 生命周期图示

![](https://cdn.jsdelivr.net/gh/madfour/ImageStorage@master/blog/生命周期.m3i8tvi0bhc.png)
