---
title: Vue组件通信的多种方式
date: 2021-11-21 19:27:06
permalink: /vue/e33f08
categories:
  - Vue
tags:
  - Vue
---
vue组件间通信方式: `props`、通过`$emit`触发自定义事件、使用`ref`、`EventBus`、`$parent/$children`、`$attrs/$listeners`、`provide/inject`、`vuex`。

<!-- more -->
<div align="center">
  <img src=https://cdn.jsdelivr.net/gh/madfour/ImageStorage@master/blog/组件通信.7j7wj7ed3lg0.png width=55% />
</div>

组件之间的关系大致归类：
- 父子组件通信
- 非父子组件之间的通信（兄弟组件、隔代关系组件等）

## 一、`props` / `$emit`

### 1、`props`

- 父组件传递数据给子组件。
- 子组件设置`props`属性，定义接受父组件传递过来的参数。
- 父组件在使用子组件的标签中通过字面量来传递值。

:::details 点击查看示例
`Father.vue` 父组件
```vue
<template>
  <div id="app">
    <users v-bind:users="users"></users>
  </div>
</template>
<script>
import Users from "./components/Users"
export default {
  name: 'App',
  data(){
    return{
      users:["Henry","Bucky","Emily"]
    }
  },
  components:{
    "users":Users
  }
}
</script>
```
`Children.vue` 子组件
```vue
<template>
  <div class="hello">
    <ul>
      <li v-for="user in users">{{user}}</li>//遍历传递过来的值，然后呈现到页面
    </ul>
  </div>
</template>
<script>
export default {
  name: 'HelloWorld',
  props:{
    users:{           //这个就是父组件中子标签自定义名字
      type:Array,
      required:true
    }
  }
}
</script>
```

:::


### 2、子组件向父组件通信 `$emit`
<!-- 
https://www.cnblogs.com/shaozhu520/p/10926647.html
https://www.wpgdadatong.com/cn/blog/detail?BID=B3650

兰州大学
https://manage.dec.lzu.edu.cn/student/#/StuOnlinePay
9219304886   Zjc95701
 -->