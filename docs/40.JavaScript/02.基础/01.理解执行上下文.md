---
title: 理解执行上下文
date: 2022-03-30 17:02:21
permalink: /JavaScript/57aa19/
categories:
  - JavaScript
tags:
  - JavaScript
---

执行上下文(Execution Context Stack)是当前`javascript`代码被解析和执行时所在环境的抽象概念。JavaScript引擎使用执行上下文来跟踪函数的执行。

## 执行上下文和执行栈

### 执行上下文的类型
`javascript`中有三种执行上下文类型：
- 全局执行上下文：只有一个，浏览器中的全局对象就是`window`对象，`this`指向这个全局对象。
- 函数执行上下文：存在无数个，只有在函数被调用的时候才会被创建，每次调用函数都会创建一个新的执行上下文。
- `Eval`函数执行上下文：指的是运行在`eval`函数中的代码。该函数不常用亦不建议使用。

### 执行栈
执行栈，也叫调用栈，具有LIFO(后进先出)结构，用于存储在代码执行期间创建的所有执行上下文，

在执行代码时，JS 引擎会创建一个全局执行上下文，并`push`到执行栈中。每当发生函数调用，引擎都会为该函数创建一个新的函数执行上下文并`push`到当前执行栈的栈顶。

根据执行栈 LIFO 规则，当栈顶函数运行完成后，其对应的函数执行上下文将会从执行栈中弹出(Pop)，上下文控制权将移到当前执行栈的下一个执行上下文。

```js

```