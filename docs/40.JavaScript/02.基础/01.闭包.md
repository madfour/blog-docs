---
title: 什么是闭包
date: 2020-08-17 22:26:20
permalink: /JavaScript/2f941b/
categories:
  - JavaScript
tags:
  - JavaScript
---

闭包：内部函数总是可以访问其所在的外层函数中声明的参数和变量，即使外部函数已经返回。闭包仍能访问外部函数定义的变量。

<!-- more -->

### **特点**：

- 1、闭包可以访问当前函数以外的变量
- 2、即使外部函数已经返回，闭包仍能访问外部函数定义的变量
- 3、闭包可以更新外部变量的值

### [权威]定义

- [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures) 中的定义 ：个函数和对其周围状态（lexical environment，词法环境）的引用捆绑在一起（或者说函数被引用包围），这样的组合就是闭包（closure）。也就是说，**闭包让你可以在一个内层函数中访问到其外层函数的作用域**。

- 《JS 高级程序设计》中的定义：闭包是指有权访问另外一个函数作用域中的变量的函数。

- 《JS 权威指南》中的定义：函数对象可以通过作用域链互相关联起来,函数体内部的变量都可以保存在函数作用域内,这种特性在计算机科学中称为闭包。

### 用途

闭包可以用在许多地方。它的最大用处有两个，一个是**可以读取函数内部的变量**，另一个就是让这些**变量的值始终保持在内存中**。

```js
function fncA() {
  var a = 10
  return function() {
    console.log(a)
  }
}
var b = fncA()
b() // 10

// 写法等同于下例
function fncA() {
  var a = 10
  ;(function() {
    console.log(a)
  })()
}
fncA() // 10
```

### 注意

**外层函数每次运行，都会生成一个新的闭包，而这个闭包又会保留外层函数的内部变量，所以内存消耗很大。因此不能滥用闭包，否则会造成网页的性能问题。**
